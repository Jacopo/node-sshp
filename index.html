<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>sshp by bahamas10</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>sshp</h1>
          <h2>simple, intuitive, no bullshit approach to parallel ssh</h2>
        </header>

        <hr>

        <section id="main_content">
          <h2>Installation</h2>

<pre><code>npm install -g sshp
</code></pre>

<h2>Why?</h2>

<p>there are thousands of programs that do this, but none of them do it well. I
wanted something <em>simple</em>, <em>clear</em>, <em>non-assumptive</em>, and <em>cross-platform compatible</em>.</p>

<p><code>sshp</code> takes a command to run (pass directly to <code>ssh</code>), and
a list of hosts with <code>-f file</code> or passed in over stdin.  For every line of
output from the remote hosts, the hostname will be prepended and printed out to
the user.  All stderr appears red and is written to stderr on the local
machine, and stdout green to stdout.  The exit code will be printed as soon as
it is avaliable if <code>-e</code> is supplied, green for 0, red for != 0, as well as the ms
deltas for all operations so you know how long things took.</p>

<p>Most importantly, you can specify the maximum number of concurrent <code>ssh</code>
connections to use with <code>-m</code> or <code>--max-jobs</code>.</p>

<p>Send a <code>SIGUSR1</code> to the process to get the current progress (like dd(1))</p>

<h2>Examples</h2>

<p>Parallel ssh into hosts supplied by a file, running <code>uname -v</code></p>

<p><img src="http://daveeddy.com/static/media/github/sshp/sshp-1.png" alt="sshp1"></p>

<p>see how <em>simple</em> it is?  you can get fancy and check the exit codes
of the commands run remotely.</p>

<p><img src="http://daveeddy.com/static/media/github/sshp/sshp-2.png" alt="sshp2"></p>

<p>You can see the exit status of every command run remotely.</p>

<p>I'm also illustrating the point that <code>sshp</code> takes the input file
over stdin, I'm not trying to win a <a href="http://partmaps.org/era/unix/award.html">uuoc</a>
award.</p>

<p>Run with <code>-d</code> to get full debug information, making it <em>clear</em> what
<code>sshp</code> will do.</p>

<p><img src="http://daveeddy.com/static/media/github/sshp/sshp-3.png" alt="sshp3"></p>

<p>Just like <code>ssh</code>, <code>sshp</code> takes arguments like <code>-l user</code>, <code>-p port</code> and
<code>-q</code>. If these arguments are not present, it will be as if you ran <code>ssh</code>
without those arguments.  This means <code>ssh</code> will run using your .ssh config
if it is present, and not <em>assume</em> you ssh out on port 22, or as your username
for instance.</p>

<p>Join hosts together by unique output to clearly identify differences or discrepancies
in the output generated by each host.</p>

<p><img src="http://daveeddy.com/static/media/github/sshp/sshp-4.png" alt="sshp4"></p>

<h2>Usage</h2>

<pre><code>Usage: sshp [-m maxjobs] [-f file] command ...

parallel ssh with streaming output

examples
  ssh into a list of hosts passed via stdin and get the output of `uname -v`

    sshp uname -v &lt; hosts

  ssh into a list of hosts passed on the command line, limit max parallel
  connections to 3, and grab the output of ps piped to grep on the remote end

    sshp -m 3 -f my_hosts.txt "ps -ef | grep process"

options
  -d, --debug       turn on debugging information, defaults to false
  -e, --exit-codes  print the exit code of the remote processes, defaults to false
  -f, --file        a file of hosts separated by newlines, defaults to stdin
  -g, --group       group the output together as it comes in by hostname, not line-by-line
  -h, --help        print this message and exit
  -j, --join        join hosts together by unique output
  -m, --max-jobs    the maximum number of jobs to run concurrently, defaults to 30
  -n, --dry-run     print debug information without actually running any commands
  -N, --no-strict   disable strict host key checking for ssh, defaults to false
  -s, --silent      silence all stdout and stderr from remote hosts, defaults to false
  -u, --updates     check for available updates
  -v, --version     print the version number and exit

ssh options (options passed directly to ssh)
  -i, --identity    ssh identity file to use
  -l, --login       the username to login as
  -q, --quiet       run ssh in quiet mode
  -p, --port        the ssh port
</code></pre>

<h2>License</h2>

<p>MIT License</p>

<h2>Extra</h2>

<p>If you're looking for <em>cross-platform compatible</em> see <code>Installation</code> above ;)</p>
        </section>

        <footer>
          sshp is maintained by <a href="https://github.com/bahamas10">bahamas10</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
    <a href="https://github.com/bahamas10/node-sshp"><img style="position: absolute; top:
	    0; right: 0; border: 0;"
	    src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
	    alt="Fork me on GitHub"></a>
  </body>
</html>
